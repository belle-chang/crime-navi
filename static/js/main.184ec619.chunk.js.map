{"version":3,"sources":["Map.js","index.js"],"names":["mapboxgl","accessToken","Map","mapContainerRef","useRef","useState","lng","setLng","lat","setLat","zoom","setZoom","useEffect","map","container","current","style","center","on","addSource","type","data","cluster","clusterMaxZoom","clusterRadius","addLayer","id","source","filter","paint","layout","addControl","NavigationControl","getCenter","toFixed","getZoom","remove","className","ref","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kQAIAA,IAASC,YACL,oGAEJ,IAmHeC,EAnHH,WACV,IAAMC,EAAkBC,iBAAO,MADf,EAGMC,oBAAU,SAHhB,mBAGTC,EAHS,KAGJC,EAHI,OAIMF,mBAAS,SAJf,mBAITG,EAJS,KAIJC,EAJI,OAKQJ,mBAAS,OALjB,mBAKTK,EALS,KAKHC,EALG,KAsGhB,OA9FAC,qBAAU,WACR,IAAMC,EAAM,IAAIb,IAASE,IAAI,CAC3BY,UAAWX,EAAgBY,QAC3BC,MAAO,qCAEPC,OAAQ,CAACX,EAAKE,GACdE,KAAMA,IAqFR,OAjFAG,EAAIK,GAAG,QAAQ,WACXL,EAAIM,UAAU,QAAS,CACnBC,KAAM,UAENC,KAAM,0FACNC,SAAS,EACTC,eAAgB,GAChBC,cAAe,KAInBX,EAAIY,SAAS,CACTC,GAAI,WACJC,OAAQ,QACRP,KAAM,SACNQ,OAAQ,CAAC,MAAO,eAEhBC,MAAO,CAKH,eAAgB,CACZ,OACA,CAAC,MAAO,eACR,UACA,GACA,UACA,IACA,WAEA,gBAAiB,CACjB,OACA,CAAC,MAAO,eACR,GACA,GACA,GACA,IACA,OAKZhB,EAAIY,SAAS,CACTC,GAAI,gBACJN,KAAM,SACNO,OAAQ,QACRC,OAAQ,CAAC,MAAO,eAChBE,OAAQ,CACR,aAAc,4BACd,YAAa,CAAC,sBAAuB,yBACrC,YAAa,MAIjBjB,EAAIY,SAAS,CACTC,GAAI,oBACJN,KAAM,SACNO,OAAQ,QACRC,OAAQ,CAAC,IAAK,CAAC,MAAO,gBACtBC,MAAO,CACP,eAAgB,UAChB,gBAAiB,EACjB,sBAAuB,EACvB,sBAAuB,aAO/BhB,EAAIkB,WAAW,IAAI/B,IAASgC,mBAG5BnB,EAAIK,GAAG,QAAQ,WACbX,EAAOM,EAAIoB,YAAY3B,IAAI4B,QAAQ,IACnCzB,EAAOI,EAAIoB,YAAYzB,IAAI0B,QAAQ,IACnCvB,EAAQE,EAAIsB,UAAUD,QAAQ,OAIzB,kBAAMrB,EAAIuB,YAChB,IAGD,6BACE,yBAAKC,UAAU,gBACb,2CACc/B,EADd,gBACgCE,EADhC,YAC8CE,IAGhD,yBAAK2B,UAAU,gBAAgBC,IAAKnC,M,MC7G1CoC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAGFC,SAASC,eAAe,W","file":"static/js/main.184ec619.chunk.js","sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport './Map.css';\n\nmapboxgl.accessToken =\n    'pk.eyJ1IjoiYW5hYmVsbGVjaGFuZyIsImEiOiJja20xZmVxNGYwMTRpMnJtemJ0M3podzFzIn0.punpaEzFpzG4kmbcpdtwUQ'\n\nconst Map = () => {\n  const mapContainerRef = useRef(null);\n\n  const [lng, setLng] = useState(-71.0799);\n  const [lat, setLat] = useState(42.3083)\n  const [zoom, setZoom] = useState(11.59);\n\n  // Initialize map when component mounts\n  useEffect(() => {\n    const map = new mapboxgl.Map({\n      container: mapContainerRef.current,\n      style: 'mapbox://styles/mapbox/streets-v11',\n    //   style: 'mapbox://styles/anabellechang/ckm11howb889h17qf87wj3ld6',\n      center: [lng, lat],\n      zoom: zoom\n    });\n\n\n    map.on('load', function() {\n        map.addSource(\"crime\", {\n            type: 'geojson',\n            // data: 'https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_10m_ports.geojson'\n            data: 'https://raw.githubusercontent.com/belle-chang/navi-crime/main/data/jsonformatter-2.json',\n            cluster: true,\n            clusterMaxZoom: 14,\n            clusterRadius: 50\n        });\n        // https://docs.mapbox.com/mapbox-gl-js/example/cluster/\n        // Add our layer\n        map.addLayer({\n            id: \"clusters\",\n            source: \"crime\", // this should be the id of the source\n            type: \"circle\",\n            filter: ['has', 'point_count'],\n            // paint properties\n            paint: {\n            //   \"circle-opacity\": 0.75,\n            //   \"circle-stroke-width\": 1,\n            //   \"circle-radius\": 4,\n            //   \"circle-color\": \"#FFEB3B\"\n                'circle-color': [\n                    'step',\n                    ['get', 'point_count'],\n                    '#51bbd6',\n                    25,\n                    '#f1f075',\n                    100,\n                    '#f28cb1'\n                    ],\n                    'circle-radius': [\n                    'step',\n                    ['get', 'point_count'],\n                    20,\n                    25,\n                    30,\n                    100,\n                    40\n                ]\n            }\n        });\n\n        map.addLayer({\n            id: 'cluster-count',\n            type: 'symbol',\n            source: 'crime',\n            filter: ['has', 'point_count'],\n            layout: {\n            'text-field': '{point_count_abbreviated}',\n            'text-font': ['DIN Offc Pro Medium', 'Arial Unicode MS Bold'],\n            'text-size': 12\n            }\n        });\n\n        map.addLayer({\n            id: 'unclustered-point',\n            type: 'circle',\n            source: 'crime',\n            filter: ['!', ['has', 'point_count']],\n            paint: {\n            'circle-color': '#11b4da',\n            'circle-radius': 4,\n            'circle-stroke-width': 1,\n            'circle-stroke-color': '#fff'\n            }\n            });\n    });\n\n    // Add navigation control (the +/- zoom buttons)\n    // Add navigation controls to the top right of the canvas\n    map.addControl(new mapboxgl.NavigationControl());\n    // map.addControl(new mapboxgl.NavigationControl(), 'top-right');\n\n    map.on('move', function() {\n      setLng(map.getCenter().lng.toFixed(4));\n      setLat(map.getCenter().lat.toFixed(4));\n      setZoom(map.getZoom().toFixed(2));\n    });\n\n    // Clean up on unmount\n    return () => map.remove();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div>\n      <div className='sidebarStyle'>\n        <div>\n          Longitude: {lng} | Latitude: {lat} | Zoom: {zoom}\n        </div>\n      </div>\n      <div className='map-container' ref={mapContainerRef} />\n      \n    </div>\n  );\n};\n\nexport default Map;","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import App from './App';\nimport Map from './Map';\nimport './index.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Map />\n    {/* <App /> */}\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}